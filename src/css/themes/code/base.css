/* Base styles for code blocks - common across all themes */

/* Structure and layout */
pre {
  padding: 12px;
  border-radius: 8px;
  overflow-x: auto;
  position: relative;
  margin: 8px 0;
  background-color: var(--code-bg);
  border: 1px solid var(--code-border);
}

pre code {
  white-space: pre;
  display: block;
  padding: 0;
  line-height: 1.3;
  font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
  font-size: 0.9rem;
  color: var(--code-text);
}

/* Inline code */
code:not(pre code) {
  display: inline;
  padding: 0.15em 0.35em;
  border-radius: 6px;
  background-color: var(--code-inline-bg);
  border: 1px solid var(--code-inline-border);
  color: var(--code-text);
}

/* Ensure plaintext blocks have no special highlighting */
code.language-plaintext,
code.plaintext {
  color: inherit !important;
}

code.language-plaintext .hljs-keyword,
code.language-plaintext .hljs-name,
code.language-plaintext .hljs-selector-tag,
code.language-plaintext .hljs-built_in,
code.plaintext .hljs-keyword,
code.plaintext .hljs-name,
code.plaintext .hljs-selector-tag,
code.plaintext .hljs-built_in {
  color: inherit !important;
  font-weight: normal !important;
}

/* Token colors powered by variables for consistency */
.hljs-comment,
.hljs-quote {
  color: var(--code-comment) !important;
  font-style: normal;
}

.hljs-keyword,
.hljs-meta,
.hljs-name,
.hljs-selector-tag,
.hljs-subst,
.hljs-tag,
.hljs-type {
  color: var(--code-accent) !important;
}

.hljs-title,
.hljs-title.function_,
.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-built_in,
.hljs-attr,
.hljs-attribute,
.hljs-property,
.hljs-function {
  color: var(--code-accent-2) !important;
}

.hljs-string,
.hljs-symbol,
.hljs-addition,
.hljs-template-variable,
.hljs-variable {
  color: var(--code-string) !important;
}

.hljs-number,
.hljs-literal,
.hljs-bullet {
  color: var(--code-number) !important;
}

.hljs-deletion {
  color: var(--error-text) !important;
}

.hljs-params,
.hljs-parameter {
  color: var(--text-secondary) !important;
}

.hljs-operator,
.hljs-punctuation {
  color: var(--code-text) !important;
}

.hljs-section,
.hljs-link,
.hljs-regexp {
  color: var(--code-accent) !important;
  text-decoration: underline;
}

/* Accents */
.hljs-emphasis { font-style: italic; }
.hljs-strong { font-weight: 700; }

/* Selection in code blocks for better contrast */
pre code::selection {
  background: rgba(var(--text-primary-rgb), 0.18);
}

/* Links inside code blocks (scoped to pre to avoid global leaks) */
pre a {
  color: var(--accent-color);
  cursor: pointer;
  text-decoration: underline;
}

/* Copy button minimal defaults (themed elsewhere too) */
pre .copy-btn {
  position: absolute;
  top: 6px;
  right: 6px;
  background-color: transparent;
  color: var(--text-primary);
}
/* Ensure base hljs wrapper inherits theme text and no extra bg */
.hljs {
  color: var(--code-text);
  background: transparent;
}
